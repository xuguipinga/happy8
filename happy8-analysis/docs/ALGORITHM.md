# 快乐8分析技术与原理

本文档详细介绍了本项目中使用的核心数据分析技术和预测算法原理。

## 1. 基础数据收集

系统主要通过以下渠道获取数据：
-   **政府公开 API**：访问福彩官网获取权威开奖。
-   **本地 CSV 存储**：为了提高响应速度和适应网络不稳定的情况，系统维护了一份本地 CSV 数据副本。

## 2. 核心分析算法

### 2.1 遗漏分析 (Omission Analysis)
遗漏值是指一个号码自上次开奖以来未出现的期数。
-   **算法**：遍历所有号码 (01-80)，记录其最后一次出现的期号，当前期号减去最后出现期号即为遗漏。
-   **应用**：遗漏值较大的号码被称为“冷号”，极高遗漏的号码往往在统计学上有回补预期。

### 2.2 热号统计 (Hotness Analysis)
-   **算法**：统计最近 20 期（默认）内各号码出现的频次。
-   **应用**：频次排名靠前的号码被称为“热号”，代表近期强力走势。

### 2.3 趋势行生成 (Trend Lines)
-   **算法**：生成包含 80 个格子的数据行，标记每期号码的命中状态和即时遗漏值。
-   **视图**：用于生成可视化走势图，帮助识别号码的斜线布局、对称布局等视觉模式。

## 3. 高级模式识别 (Pattern Recognition)

### 3.1 连号分析 (Consecutive Numbers)
-   **算法**：对单期 20 个开奖号码进行升序排列，检查相邻数字差值是否为 1。
-   **分类**：2连、3连、4连、5连及以上。
-   **核心逻辑**：快乐8开奖 20 个号，连号几乎每期必备，是缩水的重要指标。

### 3.2 同尾号分析 (Same Tail Numbers)
-   **算法**：对号码取模 10 (`num % 10`)，统计 0-9 尾数的分布。
-   **应用**：识别如“12, 22, 32”这类同一尾数的聚集现象。

### 3.3 AC 值算法 (Arithmetic Complexity)
-   **算法**：计算 20 个号码两两之差的绝对值，去重后得到的差值个数，再减去 `(n-1)`。
-   **原理**：AC 值反映号码组合的复杂程度。快乐8随机组合的 AC 值通常在一定范围内波动。

## 4. 智能推荐逻辑

系统采用多维度加权评分模型生成推荐：

1.  **评分公式**：`Score = (Freq * W_hot) + (Miss * W_miss)`
    -   `Freq`: 最近 20 期出现次数
    -   `Miss`: 当前遗漏值
    -   `W_hot`: 热度权重 (默认 10)
    -   `W_miss`: 遗漏权重 (默认 3)
2.  **胆码推荐**：
    -   取评分最高的 Top 3 号码作为一等胆码。
    -   取高热度且遗漏适中的 2-3 个号码作为补位胆码。
3.  **选十策略**：
    -   由 7 个高热度核心号 + 3 个极高遗漏补位号组成。
    -   这种组合兼顾了“强者恒强”和“冷热交替”的统计学特性。
